Nx := 50
Ny := 54
Nz := 1
dx := 5e-9
dy := 5e-9
dz := 1e-9
setgridsize(Nx, Ny, Nz)
setcellsize(dx, dy, dz)
msat = 810e3
aex = 13e-12
gammall = 187e9
cir := circle(240e-9)
m.setInShape(cir, vortex(1, 1))
setgeom(cir)
minimize()
B_ext = vector(0, 0, 3e-2*sin(t*2*pi*2e9))

tableadd(m)
tableadd(b_demag)
tableadd(E_total)
tableAutoSave(1e-10)
// saveas(m, "notstable")
// tableadd(E_total)
// autosave(m, 1e-10)
// autosaveas(b_demag, "b", 1e-10)
run(10e-9)
// saveas(m, "final")

